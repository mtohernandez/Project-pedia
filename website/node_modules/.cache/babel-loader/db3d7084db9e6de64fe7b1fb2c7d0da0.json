{"ast":null,"code":"import { mobileCheck, q, color2Hex, clearThree } from './helpers.js'; // const DEBUGMODE = window.location.toString().indexOf('VANTADEBUG') !== -1\n\nconst win = typeof window == 'object';\nlet THREE = win && window.THREE || {};\nif (win && !window.VANTA) window.VANTA = {};\nconst VANTA = win && window.VANTA || {};\n\nVANTA.register = (name, Effect) => {\n  return VANTA[name] = opts => new Effect(opts);\n};\n\nVANTA.version = '0.5.22';\nexport { VANTA }; // const ORBITCONTROLS = {\n//   enableZoom: false,\n//   userPanSpeed: 3,\n//   userRotateSpeed: 2.0,\n//   maxPolarAngle: Math.PI * 0.8, // (pi/2 is pure horizontal)\n//   mouseButtons: {\n//     ORBIT: THREE.MOUSE.LEFT,\n//     ZOOM: null,\n//     PAN: null\n//   }\n// }\n// if (DEBUGMODE) {\n//   Object.assign(ORBITCONTROLS, {\n//     enableZoom: true,\n//     zoomSpeed: 4,\n//     minDistance: 100,\n//     maxDistance: 4500\n//   })\n// }\n// Namespace for errors\n\nconst error = function () {\n  Array.prototype.unshift.call(arguments, '[VANTA]');\n  return console.error.apply(this, arguments);\n};\n\nVANTA.VantaBase = class VantaBase {\n  constructor() {\n    let userOptions = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    if (!win) return false;\n    VANTA.current = this;\n    this.windowMouseMoveWrapper = this.windowMouseMoveWrapper.bind(this);\n    this.windowTouchWrapper = this.windowTouchWrapper.bind(this);\n    this.windowGyroWrapper = this.windowGyroWrapper.bind(this);\n    this.resize = this.resize.bind(this);\n    this.animationLoop = this.animationLoop.bind(this);\n    this.restart = this.restart.bind(this);\n    const defaultOptions = typeof this.getDefaultOptions === 'function' ? this.getDefaultOptions() : this.defaultOptions;\n    this.options = Object.assign({\n      mouseControls: true,\n      touchControls: true,\n      gyroControls: false,\n      minHeight: 200,\n      minWidth: 200,\n      scale: 1,\n      scaleMobile: 1\n    }, defaultOptions);\n\n    if (userOptions instanceof HTMLElement || typeof userOptions === 'string') {\n      userOptions = {\n        el: userOptions\n      };\n    }\n\n    Object.assign(this.options, userOptions);\n\n    if (this.options.THREE) {\n      THREE = this.options.THREE; // Optionally use a custom build of three.js\n    } // Set element\n\n\n    this.el = this.options.el;\n\n    if (this.el == null) {\n      error(\"Instance needs \\\"el\\\" param!\");\n    } else if (!(this.options.el instanceof HTMLElement)) {\n      const selector = this.el;\n      this.el = q(selector);\n\n      if (!this.el) {\n        error(\"Cannot find element\", selector);\n        return;\n      }\n    }\n\n    this.prepareEl();\n    this.initThree();\n    this.setSize(); // Init needs size\n\n    try {\n      this.init();\n    } catch (e) {\n      // FALLBACK - just use color\n      error('Init error', e);\n\n      if (this.renderer && this.renderer.domElement) {\n        this.el.removeChild(this.renderer.domElement);\n      }\n\n      if (this.options.backgroundColor) {\n        console.log('[VANTA] Falling back to backgroundColor');\n        this.el.style.background = color2Hex(this.options.backgroundColor);\n      }\n\n      return;\n    } // After init\n\n\n    this.initMouse(); // Triggers mouse, which needs to be called after init\n\n    this.resize();\n    this.animationLoop(); // Event listeners\n\n    const ad = window.addEventListener;\n    ad('resize', this.resize);\n    window.requestAnimationFrame(this.resize); // Force a resize after the first frame\n    // Add event listeners on window, because this element may be below other elements, which would block the element's own mousemove event\n\n    if (this.options.mouseControls) {\n      ad('scroll', this.windowMouseMoveWrapper);\n      ad('mousemove', this.windowMouseMoveWrapper);\n    }\n\n    if (this.options.touchControls) {\n      ad('touchstart', this.windowTouchWrapper);\n      ad('touchmove', this.windowTouchWrapper);\n    }\n\n    if (this.options.gyroControls) {\n      ad('deviceorientation', this.windowGyroWrapper);\n    }\n  }\n\n  setOptions() {\n    let userOptions = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    Object.assign(this.options, userOptions);\n    this.triggerMouseMove();\n  }\n\n  prepareEl() {\n    let i, child; // wrapInner for text nodes, so text nodes can be put into foreground\n\n    if (typeof Node !== 'undefined' && Node.TEXT_NODE) {\n      for (i = 0; i < this.el.childNodes.length; i++) {\n        const n = this.el.childNodes[i];\n\n        if (n.nodeType === Node.TEXT_NODE) {\n          const s = document.createElement('span');\n          s.textContent = n.textContent;\n          n.parentElement.insertBefore(s, n);\n          n.remove();\n        }\n      }\n    } // Set foreground elements\n\n\n    for (i = 0; i < this.el.children.length; i++) {\n      child = this.el.children[i];\n\n      if (getComputedStyle(child).position === 'static') {\n        child.style.position = 'relative';\n      }\n\n      if (getComputedStyle(child).zIndex === 'auto') {\n        child.style.zIndex = 1;\n      }\n    } // Set canvas and container style\n\n\n    if (getComputedStyle(this.el).position === 'static') {\n      this.el.style.position = 'relative';\n    }\n  }\n\n  applyCanvasStyles(canvasEl) {\n    let opts = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    Object.assign(canvasEl.style, {\n      position: 'absolute',\n      zIndex: 0,\n      top: 0,\n      left: 0,\n      background: ''\n    });\n    Object.assign(canvasEl.style, opts);\n    canvasEl.classList.add('vanta-canvas');\n  }\n\n  initThree() {\n    if (!THREE.WebGLRenderer) {\n      console.warn(\"[VANTA] No THREE defined on window\");\n      return;\n    } // Set renderer\n\n\n    this.renderer = new THREE.WebGLRenderer({\n      alpha: true,\n      antialias: true\n    });\n    this.el.appendChild(this.renderer.domElement);\n    this.applyCanvasStyles(this.renderer.domElement);\n\n    if (isNaN(this.options.backgroundAlpha)) {\n      this.options.backgroundAlpha = 1;\n    }\n\n    this.scene = new THREE.Scene();\n  }\n\n  getCanvasElement() {\n    if (this.renderer) {\n      return this.renderer.domElement; // three.js\n    }\n\n    if (this.p5renderer) {\n      return this.p5renderer.canvas; // p5\n    }\n  }\n\n  getCanvasRect() {\n    const canvas = this.getCanvasElement();\n    if (!canvas) return false;\n    return canvas.getBoundingClientRect();\n  }\n\n  windowMouseMoveWrapper(e) {\n    const rect = this.getCanvasRect();\n    if (!rect) return false;\n    const x = e.clientX - rect.left;\n    const y = e.clientY - rect.top;\n\n    if (x >= 0 && y >= 0 && x <= rect.width && y <= rect.height) {\n      this.mouseX = x;\n      this.mouseY = y;\n      if (!this.options.mouseEase) this.triggerMouseMove(x, y);\n    }\n  }\n\n  windowTouchWrapper(e) {\n    const rect = this.getCanvasRect();\n    if (!rect) return false;\n\n    if (e.touches.length === 1) {\n      const x = e.touches[0].clientX - rect.left;\n      const y = e.touches[0].clientY - rect.top;\n\n      if (x >= 0 && y >= 0 && x <= rect.width && y <= rect.height) {\n        this.mouseX = x;\n        this.mouseY = y;\n        if (!this.options.mouseEase) this.triggerMouseMove(x, y);\n      }\n    }\n  }\n\n  windowGyroWrapper(e) {\n    const rect = this.getCanvasRect();\n    if (!rect) return false;\n    const x = Math.round(e.alpha * 2) - rect.left;\n    const y = Math.round(e.beta * 2) - rect.top;\n\n    if (x >= 0 && y >= 0 && x <= rect.width && y <= rect.height) {\n      this.mouseX = x;\n      this.mouseY = y;\n      if (!this.options.mouseEase) this.triggerMouseMove(x, y);\n    }\n  }\n\n  triggerMouseMove(x, y) {\n    if (x === undefined && y === undefined) {\n      // trigger at current position\n      if (this.options.mouseEase) {\n        x = this.mouseEaseX;\n        y = this.mouseEaseY;\n      } else {\n        x = this.mouseX;\n        y = this.mouseY;\n      }\n    }\n\n    if (this.uniforms) {\n      this.uniforms.iMouse.value.x = x / this.scale; // pixel values\n\n      this.uniforms.iMouse.value.y = y / this.scale; // pixel values\n    }\n\n    const xNorm = x / this.width; // 0 to 1\n\n    const yNorm = y / this.height; // 0 to 1\n\n    typeof this.onMouseMove === \"function\" ? this.onMouseMove(xNorm, yNorm) : void 0;\n  }\n\n  setSize() {\n    this.scale || (this.scale = 1);\n\n    if (mobileCheck() && this.options.scaleMobile) {\n      this.scale = this.options.scaleMobile;\n    } else if (this.options.scale) {\n      this.scale = this.options.scale;\n    }\n\n    this.width = Math.max(this.el.offsetWidth, this.options.minWidth);\n    this.height = Math.max(this.el.offsetHeight, this.options.minHeight);\n  }\n\n  initMouse() {\n    // Init mouseX and mouseY\n    if (!this.mouseX && !this.mouseY || this.mouseX === this.options.minWidth / 2 && this.mouseY === this.options.minHeight / 2) {\n      this.mouseX = this.width / 2;\n      this.mouseY = this.height / 2;\n      this.triggerMouseMove(this.mouseX, this.mouseY);\n    }\n  }\n\n  resize() {\n    this.setSize();\n\n    if (this.camera) {\n      this.camera.aspect = this.width / this.height;\n\n      if (typeof this.camera.updateProjectionMatrix === \"function\") {\n        this.camera.updateProjectionMatrix();\n      }\n    }\n\n    if (this.renderer) {\n      this.renderer.setSize(this.width, this.height);\n      this.renderer.setPixelRatio(window.devicePixelRatio / this.scale);\n    }\n\n    typeof this.onResize === \"function\" ? this.onResize() : void 0;\n  }\n\n  isOnScreen() {\n    const elHeight = this.el.offsetHeight;\n    const elRect = this.el.getBoundingClientRect();\n    const scrollTop = window.pageYOffset || (document.documentElement || document.body.parentNode || document.body).scrollTop;\n    const offsetTop = elRect.top + scrollTop;\n    const minScrollTop = offsetTop - window.innerHeight;\n    const maxScrollTop = offsetTop + elHeight;\n    return minScrollTop <= scrollTop && scrollTop <= maxScrollTop;\n  }\n\n  animationLoop() {\n    // Step time\n    this.t || (this.t = 0);\n    this.t += 1; // Uniform time\n\n    this.t2 || (this.t2 = 0);\n    this.t2 += this.options.speed || 1;\n\n    if (this.uniforms) {\n      this.uniforms.iTime.value = this.t2 * 0.016667; // iTime is in seconds\n    }\n\n    if (this.options.mouseEase) {\n      this.mouseEaseX = this.mouseEaseX || this.mouseX || 0;\n      this.mouseEaseY = this.mouseEaseY || this.mouseY || 0;\n\n      if (Math.abs(this.mouseEaseX - this.mouseX) + Math.abs(this.mouseEaseY - this.mouseY) > 0.1) {\n        this.mouseEaseX += (this.mouseX - this.mouseEaseX) * 0.05;\n        this.mouseEaseY += (this.mouseY - this.mouseEaseY) * 0.05;\n        this.triggerMouseMove(this.mouseEaseX, this.mouseEaseY);\n      }\n    } // Only animate if element is within view\n\n\n    if (this.isOnScreen() || this.options.forceAnimate) {\n      if (typeof this.onUpdate === \"function\") {\n        this.onUpdate();\n      }\n\n      if (this.scene && this.camera) {\n        this.renderer.render(this.scene, this.camera);\n        this.renderer.setClearColor(this.options.backgroundColor, this.options.backgroundAlpha);\n      } // if (this.stats) this.stats.update()\n      // if (this.renderStats) this.renderStats.update(this.renderer)\n\n\n      if (this.fps && this.fps.update) this.fps.update();\n      if (typeof this.afterRender === \"function\") this.afterRender();\n    }\n\n    return this.req = window.requestAnimationFrame(this.animationLoop);\n  } // setupControls() {\n  //   if (DEBUGMODE && THREE.OrbitControls) {\n  //     this.controls = new THREE.OrbitControls(this.camera, this.renderer.domElement)\n  //     Object.assign(this.controls, ORBITCONTROLS)\n  //     return this.scene.add(new THREE.AxisHelper(100))\n  //   }\n  // }\n\n\n  restart() {\n    // Restart the effect without destroying the renderer\n    if (this.scene) {\n      while (this.scene.children.length) {\n        this.scene.remove(this.scene.children[0]);\n      }\n    }\n\n    if (typeof this.onRestart === \"function\") {\n      this.onRestart();\n    }\n\n    this.init();\n  }\n\n  init() {\n    if (typeof this.onInit === \"function\") {\n      this.onInit();\n    } // this.setupControls()\n\n  }\n\n  destroy() {\n    if (typeof this.onDestroy === \"function\") {\n      this.onDestroy();\n    }\n\n    const rm = window.removeEventListener;\n    rm('touchstart', this.windowTouchWrapper);\n    rm('touchmove', this.windowTouchWrapper);\n    rm('scroll', this.windowMouseMoveWrapper);\n    rm('mousemove', this.windowMouseMoveWrapper);\n    rm('deviceorientation', this.windowGyroWrapper);\n    rm('resize', this.resize);\n    window.cancelAnimationFrame(this.req);\n    const scene = this.scene;\n\n    if (scene && scene.children) {\n      clearThree(scene);\n    }\n\n    if (this.renderer) {\n      if (this.renderer.domElement) {\n        this.el.removeChild(this.renderer.domElement);\n      }\n\n      this.renderer = null;\n      this.scene = null;\n    }\n\n    if (VANTA.current === this) {\n      VANTA.current = null;\n    }\n  }\n\n};\nexport default VANTA.VantaBase;","map":{"version":3,"sources":["C:/SkyRing/Project Helena Shine/Website/website/node_modules/vanta/src/_base.js"],"names":["mobileCheck","q","color2Hex","clearThree","win","window","THREE","VANTA","register","name","Effect","opts","version","error","Array","prototype","unshift","call","arguments","console","apply","VantaBase","constructor","userOptions","current","windowMouseMoveWrapper","bind","windowTouchWrapper","windowGyroWrapper","resize","animationLoop","restart","defaultOptions","getDefaultOptions","options","Object","assign","mouseControls","touchControls","gyroControls","minHeight","minWidth","scale","scaleMobile","HTMLElement","el","selector","prepareEl","initThree","setSize","init","e","renderer","domElement","removeChild","backgroundColor","log","style","background","initMouse","ad","addEventListener","requestAnimationFrame","setOptions","triggerMouseMove","i","child","Node","TEXT_NODE","childNodes","length","n","nodeType","s","document","createElement","textContent","parentElement","insertBefore","remove","children","getComputedStyle","position","zIndex","applyCanvasStyles","canvasEl","top","left","classList","add","WebGLRenderer","warn","alpha","antialias","appendChild","isNaN","backgroundAlpha","scene","Scene","getCanvasElement","p5renderer","canvas","getCanvasRect","getBoundingClientRect","rect","x","clientX","y","clientY","width","height","mouseX","mouseY","mouseEase","touches","Math","round","beta","undefined","mouseEaseX","mouseEaseY","uniforms","iMouse","value","xNorm","yNorm","onMouseMove","max","offsetWidth","offsetHeight","camera","aspect","updateProjectionMatrix","setPixelRatio","devicePixelRatio","onResize","isOnScreen","elHeight","elRect","scrollTop","pageYOffset","documentElement","body","parentNode","offsetTop","minScrollTop","innerHeight","maxScrollTop","t","t2","speed","iTime","abs","forceAnimate","onUpdate","render","setClearColor","fps","update","afterRender","req","onRestart","onInit","destroy","onDestroy","rm","removeEventListener","cancelAnimationFrame"],"mappings":"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","sourcesContent":["import {mobileCheck, q, color2Hex, clearThree} from './helpers.js'\r\n// const DEBUGMODE = window.location.toString().indexOf('VANTADEBUG') !== -1\r\n\r\nconst win = typeof window == 'object'\r\nlet THREE = (win && window.THREE) || {}\r\nif (win && !window.VANTA) window.VANTA = {}\r\nconst VANTA = (win && window.VANTA) || {}\r\nVANTA.register = (name, Effect) => {\r\n  return VANTA[name] = (opts) => new Effect(opts)\r\n}\r\nVANTA.version = '0.5.22'\r\n\r\nexport {VANTA}\r\n\r\n// const ORBITCONTROLS = {\r\n//   enableZoom: false,\r\n//   userPanSpeed: 3,\r\n//   userRotateSpeed: 2.0,\r\n//   maxPolarAngle: Math.PI * 0.8, // (pi/2 is pure horizontal)\r\n//   mouseButtons: {\r\n//     ORBIT: THREE.MOUSE.LEFT,\r\n//     ZOOM: null,\r\n//     PAN: null\r\n//   }\r\n// }\r\n// if (DEBUGMODE) {\r\n//   Object.assign(ORBITCONTROLS, {\r\n//     enableZoom: true,\r\n//     zoomSpeed: 4,\r\n//     minDistance: 100,\r\n//     maxDistance: 4500\r\n//   })\r\n// }\r\n\r\n// Namespace for errors\r\nconst error = function() {\r\n  Array.prototype.unshift.call(arguments, '[VANTA]')\r\n  return console.error.apply(this, arguments)\r\n}\r\n\r\nVANTA.VantaBase = class VantaBase {\r\n  constructor(userOptions = {}) {\r\n    if (!win) return false\r\n    VANTA.current = this\r\n    this.windowMouseMoveWrapper = this.windowMouseMoveWrapper.bind(this)\r\n    this.windowTouchWrapper = this.windowTouchWrapper.bind(this)\r\n    this.windowGyroWrapper = this.windowGyroWrapper.bind(this)\r\n    this.resize = this.resize.bind(this)\r\n    this.animationLoop = this.animationLoop.bind(this)\r\n    this.restart = this.restart.bind(this)\r\n\r\n    const defaultOptions = (typeof this.getDefaultOptions === 'function') ? this.getDefaultOptions() : this.defaultOptions\r\n    this.options = Object.assign({\r\n      mouseControls: true,\r\n      touchControls: true,\r\n      gyroControls: false,\r\n      minHeight: 200,\r\n      minWidth: 200,\r\n      scale: 1,\r\n      scaleMobile: 1,\r\n    }, defaultOptions)\r\n\r\n    if (userOptions instanceof HTMLElement || typeof userOptions === 'string') {\r\n      userOptions = {el: userOptions}\r\n    }\r\n    Object.assign(this.options, userOptions)\r\n\r\n    if (this.options.THREE) {\r\n      THREE = this.options.THREE // Optionally use a custom build of three.js\r\n    }\r\n\r\n    // Set element\r\n    this.el = this.options.el\r\n    if (this.el == null) {\r\n      error(\"Instance needs \\\"el\\\" param!\")\r\n    } else if (!(this.options.el instanceof HTMLElement)) {\r\n      const selector = this.el\r\n      this.el = q(selector)\r\n      if (!this.el) {\r\n        error(\"Cannot find element\", selector)\r\n        return\r\n      }\r\n    }\r\n\r\n    this.prepareEl()\r\n    this.initThree()\r\n    this.setSize() // Init needs size\r\n\r\n    try {\r\n      this.init()\r\n    } catch (e) {\r\n      // FALLBACK - just use color\r\n      error('Init error', e)\r\n      if (this.renderer && this.renderer.domElement) {\r\n        this.el.removeChild(this.renderer.domElement)\r\n      }\r\n      if (this.options.backgroundColor) {\r\n        console.log('[VANTA] Falling back to backgroundColor')\r\n        this.el.style.background = color2Hex(this.options.backgroundColor)\r\n      }\r\n      return\r\n    }\r\n\r\n    // After init\r\n    this.initMouse() // Triggers mouse, which needs to be called after init\r\n    this.resize()\r\n    this.animationLoop()\r\n\r\n    // Event listeners\r\n    const ad = window.addEventListener\r\n    ad('resize', this.resize)\r\n    window.requestAnimationFrame(this.resize) // Force a resize after the first frame\r\n\r\n    // Add event listeners on window, because this element may be below other elements, which would block the element's own mousemove event\r\n    if (this.options.mouseControls) {\r\n      ad('scroll', this.windowMouseMoveWrapper)\r\n      ad('mousemove', this.windowMouseMoveWrapper)\r\n    }\r\n    if (this.options.touchControls) {\r\n      ad('touchstart', this.windowTouchWrapper)\r\n      ad('touchmove', this.windowTouchWrapper)\r\n    }\r\n    if (this.options.gyroControls) {\r\n      ad('deviceorientation', this.windowGyroWrapper)\r\n    }\r\n  }\r\n\r\n  setOptions(userOptions={}){\r\n    Object.assign(this.options, userOptions)\r\n    this.triggerMouseMove()\r\n  }\r\n\r\n  prepareEl() {\r\n    let i, child\r\n    // wrapInner for text nodes, so text nodes can be put into foreground\r\n    if (typeof Node !== 'undefined' && Node.TEXT_NODE) {\r\n      for (i = 0; i < this.el.childNodes.length; i++) {\r\n        const n = this.el.childNodes[i]\r\n        if (n.nodeType === Node.TEXT_NODE) {\r\n          const s = document.createElement('span')\r\n          s.textContent = n.textContent\r\n          n.parentElement.insertBefore(s, n)\r\n          n.remove()\r\n        }\r\n      }\r\n    }\r\n    // Set foreground elements\r\n    for (i = 0; i < this.el.children.length; i++) {\r\n      child = this.el.children[i]\r\n      if (getComputedStyle(child).position === 'static') {\r\n        child.style.position = 'relative'\r\n      }\r\n      if (getComputedStyle(child).zIndex === 'auto') {\r\n        child.style.zIndex = 1\r\n      }\r\n    }\r\n    // Set canvas and container style\r\n    if (getComputedStyle(this.el).position === 'static') {\r\n      this.el.style.position = 'relative'\r\n    }\r\n  }\r\n\r\n  applyCanvasStyles(canvasEl, opts={}){\r\n    Object.assign(canvasEl.style, {\r\n      position: 'absolute',\r\n      zIndex: 0,\r\n      top: 0,\r\n      left: 0,\r\n      background: ''\r\n    })\r\n    Object.assign(canvasEl.style, opts)\r\n    canvasEl.classList.add('vanta-canvas')\r\n  }\r\n\r\n  initThree() {\r\n    if (!THREE.WebGLRenderer) {\r\n      console.warn(\"[VANTA] No THREE defined on window\")\r\n      return\r\n    }\r\n    // Set renderer\r\n    this.renderer = new THREE.WebGLRenderer({\r\n      alpha: true,\r\n      antialias: true\r\n    })\r\n    this.el.appendChild(this.renderer.domElement)\r\n    this.applyCanvasStyles(this.renderer.domElement)\r\n    if (isNaN(this.options.backgroundAlpha)) {\r\n      this.options.backgroundAlpha = 1\r\n    }\r\n\r\n    this.scene = new THREE.Scene()\r\n  }\r\n\r\n  getCanvasElement() {\r\n    if (this.renderer) {\r\n      return this.renderer.domElement // three.js\r\n    }\r\n    if (this.p5renderer) {\r\n      return this.p5renderer.canvas // p5\r\n    }\r\n  }\r\n\r\n  getCanvasRect() {\r\n    const canvas = this.getCanvasElement()\r\n    if (!canvas) return false\r\n    return canvas.getBoundingClientRect()\r\n  }\r\n\r\n  windowMouseMoveWrapper(e){\r\n    const rect = this.getCanvasRect()\r\n    if (!rect) return false\r\n    const x = e.clientX - rect.left\r\n    const y = e.clientY - rect.top\r\n    if (x>=0 && y>=0 && x<=rect.width && y<=rect.height) {\r\n      this.mouseX = x\r\n      this.mouseY = y\r\n      if (!this.options.mouseEase) this.triggerMouseMove(x, y)\r\n    }\r\n  }\r\n  windowTouchWrapper(e){\r\n    const rect = this.getCanvasRect()\r\n    if (!rect) return false\r\n    if (e.touches.length === 1) {\r\n      const x = e.touches[0].clientX - rect.left\r\n      const y = e.touches[0].clientY - rect.top\r\n      if (x>=0 && y>=0 && x<=rect.width && y<=rect.height) {\r\n        this.mouseX = x\r\n        this.mouseY = y\r\n        if (!this.options.mouseEase) this.triggerMouseMove(x, y)\r\n      }\r\n    }\r\n  }\r\n  windowGyroWrapper(e){\r\n    const rect = this.getCanvasRect()\r\n    if (!rect) return false\r\n    const x = Math.round(e.alpha * 2) - rect.left\r\n    const y = Math.round(e.beta * 2) - rect.top\r\n    if (x>=0 && y>=0 && x<=rect.width && y<=rect.height) {\r\n      this.mouseX = x\r\n      this.mouseY = y\r\n      if (!this.options.mouseEase) this.triggerMouseMove(x, y)\r\n    }\r\n  }\r\n\r\n  triggerMouseMove(x, y) {\r\n    if (x === undefined && y === undefined) { // trigger at current position\r\n      if (this.options.mouseEase) {\r\n        x = this.mouseEaseX\r\n        y = this.mouseEaseY\r\n      } else {\r\n        x = this.mouseX\r\n        y = this.mouseY\r\n      }\r\n    }\r\n    if (this.uniforms) {\r\n      this.uniforms.iMouse.value.x = x / this.scale // pixel values\r\n      this.uniforms.iMouse.value.y = y / this.scale // pixel values\r\n    }\r\n    const xNorm = x / this.width // 0 to 1\r\n    const yNorm = y / this.height // 0 to 1\r\n    typeof this.onMouseMove === \"function\" ? this.onMouseMove(xNorm, yNorm) : void 0\r\n  }\r\n\r\n  setSize() {\r\n    this.scale || (this.scale = 1)\r\n    if (mobileCheck() && this.options.scaleMobile) {\r\n      this.scale = this.options.scaleMobile\r\n    } else if (this.options.scale) {\r\n      this.scale = this.options.scale\r\n    }\r\n    this.width = Math.max(this.el.offsetWidth, this.options.minWidth)\r\n    this.height = Math.max(this.el.offsetHeight, this.options.minHeight)\r\n  }\r\n  initMouse() {\r\n    // Init mouseX and mouseY\r\n    if ((!this.mouseX && !this.mouseY) ||\r\n      (this.mouseX === this.options.minWidth/2 && this.mouseY === this.options.minHeight/2)) {\r\n      this.mouseX = this.width/2\r\n      this.mouseY = this.height/2\r\n      this.triggerMouseMove(this.mouseX, this.mouseY)\r\n    }\r\n  }\r\n\r\n  resize() {\r\n    this.setSize()\r\n    if (this.camera) {\r\n      this.camera.aspect = this.width / this.height\r\n      if (typeof this.camera.updateProjectionMatrix === \"function\") {\r\n        this.camera.updateProjectionMatrix()\r\n      }\r\n    }\r\n    if (this.renderer) {\r\n      this.renderer.setSize(this.width, this.height)\r\n      this.renderer.setPixelRatio(window.devicePixelRatio / this.scale)\r\n    }\r\n    typeof this.onResize === \"function\" ? this.onResize() : void 0\r\n  }\r\n\r\n  isOnScreen() {\r\n    const elHeight = this.el.offsetHeight\r\n    const elRect = this.el.getBoundingClientRect()\r\n    const scrollTop = (window.pageYOffset ||\r\n      (document.documentElement || document.body.parentNode || document.body).scrollTop\r\n    )\r\n    const offsetTop = elRect.top + scrollTop\r\n    const minScrollTop = offsetTop - window.innerHeight\r\n    const maxScrollTop = offsetTop + elHeight\r\n    return minScrollTop <= scrollTop && scrollTop <= maxScrollTop\r\n  }\r\n\r\n  animationLoop() {\r\n    // Step time\r\n    this.t || (this.t = 0)\r\n    this.t += 1\r\n    // Uniform time\r\n    this.t2 || (this.t2 = 0)\r\n    this.t2 += (this.options.speed || 1)\r\n    if (this.uniforms) {\r\n      this.uniforms.iTime.value = this.t2 * 0.016667 // iTime is in seconds\r\n    }\r\n\r\n    if (this.options.mouseEase) {\r\n      this.mouseEaseX = this.mouseEaseX || this.mouseX || 0\r\n      this.mouseEaseY = this.mouseEaseY || this.mouseY || 0\r\n      if (Math.abs(this.mouseEaseX-this.mouseX) + Math.abs(this.mouseEaseY-this.mouseY) > 0.1) {\r\n        this.mouseEaseX += (this.mouseX - this.mouseEaseX) * 0.05\r\n        this.mouseEaseY += (this.mouseY - this.mouseEaseY) * 0.05\r\n        this.triggerMouseMove(this.mouseEaseX, this.mouseEaseY)\r\n      }\r\n    }\r\n\r\n    // Only animate if element is within view\r\n    if (this.isOnScreen() || this.options.forceAnimate) {\r\n      if (typeof this.onUpdate === \"function\") {\r\n        this.onUpdate()\r\n      }\r\n      if (this.scene && this.camera) {\r\n        this.renderer.render(this.scene, this.camera)\r\n        this.renderer.setClearColor(this.options.backgroundColor, this.options.backgroundAlpha)\r\n      }\r\n      // if (this.stats) this.stats.update()\r\n      // if (this.renderStats) this.renderStats.update(this.renderer)\r\n      if (this.fps && this.fps.update) this.fps.update()\r\n      if (typeof this.afterRender === \"function\") this.afterRender()\r\n    }\r\n    return this.req = window.requestAnimationFrame(this.animationLoop)\r\n  }\r\n\r\n  // setupControls() {\r\n  //   if (DEBUGMODE && THREE.OrbitControls) {\r\n  //     this.controls = new THREE.OrbitControls(this.camera, this.renderer.domElement)\r\n  //     Object.assign(this.controls, ORBITCONTROLS)\r\n  //     return this.scene.add(new THREE.AxisHelper(100))\r\n  //   }\r\n  // }\r\n\r\n  restart() {\r\n    // Restart the effect without destroying the renderer\r\n    if (this.scene) {\r\n      while (this.scene.children.length) {\r\n        this.scene.remove(this.scene.children[0])\r\n      }\r\n    }\r\n    if (typeof this.onRestart === \"function\") {\r\n      this.onRestart()\r\n    }\r\n    this.init()\r\n  }\r\n\r\n  init() {\r\n    if (typeof this.onInit === \"function\") {\r\n      this.onInit()\r\n    }\r\n    // this.setupControls()\r\n  }\r\n\r\n  destroy() {\r\n    if (typeof this.onDestroy === \"function\") {\r\n      this.onDestroy()\r\n    }\r\n    const rm = window.removeEventListener\r\n    rm('touchstart', this.windowTouchWrapper)\r\n    rm('touchmove', this.windowTouchWrapper)\r\n    rm('scroll', this.windowMouseMoveWrapper)\r\n    rm('mousemove', this.windowMouseMoveWrapper)\r\n    rm('deviceorientation', this.windowGyroWrapper)\r\n    rm('resize', this.resize)\r\n    window.cancelAnimationFrame(this.req)\r\n\r\n    const scene = this.scene\r\n    if (scene && scene.children) {\r\n      clearThree(scene)\r\n    }\r\n    if (this.renderer) {\r\n      if (this.renderer.domElement) {\r\n        this.el.removeChild(this.renderer.domElement)\r\n      }\r\n      this.renderer = null\r\n      this.scene = null\r\n    }\r\n\r\n    if (VANTA.current === this) {\r\n      VANTA.current = null\r\n    }\r\n  }\r\n}\r\n\r\nexport default VANTA.VantaBase"]},"metadata":{},"sourceType":"module"}